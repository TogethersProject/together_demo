(()=>{var e={};e.id=178,e.ids=[178,660],e.modules={7249:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{config:()=>b,default:()=>g,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>C,routeModule:()=>f,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>k,unstable_getStaticProps:()=>v});var o=a(9345),r=a(8313),l=a(8998),s=a(4009),i=a.n(s),c=a(7589),d=a.n(c),u=a(4901),h=e([u]);u=(h.then?(await h)():h)[0];let g=(0,l.l)(u,"default"),p=(0,l.l)(u,"getStaticProps"),m=(0,l.l)(u,"getStaticPaths"),x=(0,l.l)(u,"getServerSideProps"),b=(0,l.l)(u,"config"),C=(0,l.l)(u,"reportWebVitals"),v=(0,l.l)(u,"unstable_getStaticProps"),k=(0,l.l)(u,"unstable_getStaticPaths"),j=(0,l.l)(u,"unstable_getStaticParams"),y=(0,l.l)(u,"unstable_getServerProps"),S=(0,l.l)(u,"unstable_getServerSideProps"),f=new o.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/Calendar",pathname:"/Calendar",bundlePath:"",filename:""},components:{App:d(),Document:i()},userland:u});n()}catch(e){n(e)}})},4901:(e,t,a)=>{"use strict";a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>m});var o=a(997),r=a(6689),l=a(1952),s=a.n(l),i=a(6653),c=a(9870),d=a(5503),u=a(1103);a(8580);var h=a(476),g=a(9648),p=e([c,d,u,h,g]);[c,d,u,h,g]=p.then?(await p)():p;let m=()=>{let e=(0,i.useRouter)(),[t,a]=(0,r.useState)(!1),[n,l]=(0,r.useState)([{id:"1",title:"Event 1",start:"2023-06-20"},{id:"2",title:"Event 2",start:"2023-06-21"}]),[p,m]=(0,r.useState)({start:"",end:""}),[x,b]=(0,r.useState)({title:"",content:"",id:"",calendar_memberId:"",allDay:!1,backgroundColor:""}),[C,v]=(0,r.useState)(""),[k,j]=(0,r.useState)(""),[y,S]=(0,r.useState)(""),[f,D]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[P,_]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let t=localStorage.getItem("grantType"),a=localStorage.getItem("accessToken"),n=localStorage.getItem("username");t&&a&&n?(v(t),j(a),S(n)):e.push("/Login"),p.start&&p.end&&T()},[]),(0,r.useEffect)(()=>{p.start&&p.end&&T()},[p]);let T=()=>{console.log(p.start+"\n"+p.end+"\n"+x.calendar_memberId),console.log("getCalendar - accessToken: "+C+k);let e=p.start,t=p.end;g.default.post("http://localhost:9000/calendar/getCalendarList",{startDate:e,endDate:t,memberId:y},{headers:{Authorization:C+k}}).then(e=>{l(t=>[...e.data])}).catch(e=>console.log("캘린더 못가져옴\n"+e))},M=t=>{a(!1),e.push(t)},q=e=>{console.log("드래그"),console.log(e),E(e),D(!0)},E=e=>{let t=e.event._def.extendedProps.calendar_id,a=new Date(e.event._instance.range.start),n=new Date(e.event._instance.range.end),o=new Date(a.getTime()-324e5),r=new Date(n.getTime()-324e5);console.log("토큰줄게 일정 하나만 줘:"+C+k),g.default.post("http://localhost:9000/calendar/getOneCalendar",t,{headers:{Authorization:C+k}}).then(e=>{console.log(e.data);let a={...e.data,id:t,start:o,...null!=e.data.end&&{end:r}};b(a),T()}).catch(e=>console.log(e))},L=e=>{let{name:t,value:a}=e.target;b(e=>({...e,[t]:a,backgroundColor:"backgroundColor"===t?a:e.backgroundColor}))},I=e=>{if(x.start){let[t,a]=e.target.value.split(":"),n=new Date(x.start);n.setHours(t),n.setMinutes(a),console.log(n),n&&b({...x,start:n})}},z=e=>{if(x.end){let[t,a]=e.target.value.split(":"),n=new Date(x.end);n.setHours(t),n.setMinutes(a),console.log(n),b({...x,end:n})}},A=e=>{let t=e.target.checked;_(t),b({...x,allDay:t})},F=()=>{b(e=>({title:"",content:"",id:"",calendar_memberId:"",allDay:!1,backgroundColor:""})),D(!1)};return(0,o.jsxs)("div",{className:`main-screen ${t?"sidebar-open":""}`,onClick:t?e=>{let t=document.querySelector(".sidebar");t&&!t.contains(e.target)&&a(!1)}:void 0,children:[(0,o.jsxs)("div",{className:"sidebar",children:[o.jsx("div",{className:"sidebar-link",onClick:()=>M("/Search"),children:"Search"}),o.jsx("div",{className:"sidebar-link",onClick:()=>M("/Login"),children:"Login"}),o.jsx("div",{className:"sidebar-link",onClick:()=>M("/My"),children:"My"}),o.jsx("div",{className:"sidebar-link",onClick:()=>M("/Chat"),children:"ChatBot"})]}),(0,o.jsxs)("header",{className:"header",children:[o.jsx(s(),{src:"/images/image-23.png",alt:"search",width:40,height:40}),o.jsx("div",{className:"center-image-container",onClick:function(){e.push("/First")},style:{cursor:"pointer"},children:o.jsx(s(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),o.jsx(s(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50})]}),(0,o.jsxs)("div",{className:"content",children:[o.jsx("div",{className:"intro",children:o.jsx("h1",{children:"봉사 일정을 확인하세요"})}),o.jsx("div",{className:"calendar-container",children:o.jsx(c.default,{plugins:[d.default,u.default,h.default],initialView:"dayGridMonth",titleFormat:{year:"2-digit",month:"short"},headerToolbar:{center:"title",start:"today",end:"prev,next"},footerToolbar:{center:"dayGridMonth,timeGridDay"},eventTimeFormat:{meridiem:!1,hour:"2-digit"},events:n,dateClick:e=>{b({title:"",content:"",start:e.date,id:"",allDay:!1,calendar_memberId:y,backgroundColor:""}),w(!0)},eventClick:e=>{console.log("드래그"),console.log(e),E(e),D(!0)},select:e=>{b(t=>({title:"",content:"",start:e.start,end:e.end,id:"",allDay:!1,calendar_memberId:y,backgroundColor:""})),w(!0)},selectable:!0,selectMirror:!0,editable:!0,eventDurationEditable:!0,eventResizableFromStart:!0,eventResize:q,eventChange:q,datesSet:e=>{console.log(e.startStr),console.log(e.endStr),m(t=>({...t,start:e.startStr,end:e.endStr}))},weekends:!0,navLinks:!0,navLinkHint:"이 날의 일정을 더 자세히 보기",dayMaxEvents:2,eventBackgroundColor:"yellowgreen",eventBorderColor:"yellowgreen",height:"auto"})}),N&&(0,o.jsxs)("div",{className:"calendar-modal",onClick:e=>e.stopPropagation(),children:[o.jsx("div",{className:"modal-header",children:o.jsx("button",{onClick:()=>D(!1),children:"\xd7모달닫기"})}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("p",{children:["일정 시작일: ",x.start&&new Date(x.start).toLocaleString(),"시간: ",o.jsx("input",{type:"time",onChange:I,name:"eventStartTime"})]}),(0,o.jsxs)("p",{children:["일정 마감일: ",x.end&&new Date(x.end).toLocaleString()," 시간:",o.jsx("input",{type:"time",onChange:z,name:"eventEndTime"})]}),o.jsx("input",{type:"checkbox",onChange:A,checked:P,name:"allDay"}),"allDay 체크여부",o.jsx("input",{type:"text",onChange:L,name:"title",value:x.title,placeholder:"제목"}),o.jsx("input",{type:"text",onChange:L,name:"content",value:x.content,placeholder:"내용"}),o.jsx("input",{type:"radio",onChange:L,name:"backgroundColor",value:"skyblue",checked:"skyblue"===x.backgroundColor}),"파랑",o.jsx("input",{type:"radio",onChange:L,name:"backgroundColor",value:"orange",checked:"orange"===x.backgroundColor}),"오렌지",o.jsx("input",{type:"text",onChange:L,name:"backgroundColor",value:x.backgroundColor,placeholder:"색상 알아서 잘 넣어보도록. 나중에는 체크박스나 다른 기능 필요"})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",onClick:()=>{console.log("제출 전, 정보 확인: ",x),console.log("accessToken: "+C+k),g.default.post("http://localhost:9000/calendar/writeCalendar",x,{headers:{Authorization:C+k}}).then(e=>{console.log("제출성공"+e),w(!1),F(),T()}).catch(e=>console.log("제출오류"+e))},children:"제출하기"})})]}),f&&(0,o.jsxs)("div",{className:"calendar-modal",onClick:e=>e.stopPropagation(),children:[o.jsx("div",{className:"modal-header",children:o.jsx("button",{onClick:()=>D(!1),children:"\xd7모달닫기"})}),(0,o.jsxs)("div",{className:"modal-body",children:[(0,o.jsxs)("p",{children:["일정 시작일: ",x.start&&new Date(x.start).toLocaleString(),"시간: ",o.jsx("input",{type:"time",onChange:I,name:"eventStartTime"})]}),(0,o.jsxs)("p",{children:["일정 마감일: ",x.end&&new Date(x.end).toLocaleString()," 시간:",o.jsx("input",{type:"time",onChange:z,name:"eventEndTime"})]}),o.jsx("input",{type:"checkbox",onChange:A,checked:P,name:"allDay"}),"allDay 체크여부",o.jsx("input",{type:"text",onChange:L,name:"title",value:x.title,placeholder:"제목"}),o.jsx("input",{type:"text",onChange:L,name:"content",value:x.content,placeholder:"내용"}),o.jsx("input",{type:"radio",onChange:L,name:"backgroundColor",value:"skyblue",checked:"skyblue"===x.backgroundColor}),"파랑",o.jsx("input",{type:"radio",onChange:L,name:"backgroundColor",value:"orange",checked:"orange"===x.backgroundColor}),"오렌지",o.jsx("input",{type:"text",onChange:L,name:"backgroundColor",value:x.backgroundColor,placeholder:"색상 알아서 잘 넣어보도록. 나중에는 체크박스나 다른 기능 필요"})]}),(0,o.jsxs)("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",onClick:()=>{b(e=>({...e,start:x.start,end:x.end})),g.default.post("http://localhost:9000/calendar/updateCalendar",{...x,start:x.start,end:x.end},{headers:{Authorization:C+k}}).then(e=>{console.log(e.data),T(),F()}).catch(e=>console.log(e))},children:"제출하기"}),o.jsx("button",{type:"button",onClick:F,children:"취소하기"}),o.jsx("button",{type:"button",onClick:()=>{let e=x.id;console.log(e+"삭제하겠습니다"),g.default.post("http://localhost:9000/calendar/deleteCalendar",e,{headers:{Authorization:C+k}}).then(e=>{console.log(e.data),F(),T()}).catch(e=>console.log(e))},children:"삭제하기"})]})]}),";"]}),(0,o.jsxs)("footer",{className:"footer",children:[o.jsx("div",{className:"footer-icon",onClick:()=>{a(!t)},children:"="}),o.jsx("div",{className:"footer-icon",onClick:()=>{e.push("/First")},children:"\uD83C\uDFE0"}),o.jsx("div",{className:"footer-icon",onClick:()=>{e.push("/Mypage")},children:"\uD83D\uDC64"})]})]})};n()}catch(e){n(e)}})},8580:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5503:e=>{"use strict";e.exports=import("@fullcalendar/daygrid")},1103:e=>{"use strict";e.exports=import("@fullcalendar/interaction")},9870:e=>{"use strict";e.exports=import("@fullcalendar/react")},476:e=>{"use strict";e.exports=import("@fullcalendar/timegrid")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[9,13,952],()=>a(7249));module.exports=n})();