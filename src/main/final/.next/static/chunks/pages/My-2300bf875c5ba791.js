(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{7595:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/My",function(){return t(7963)}])},7963:function(e,a,t){"use strict";t.r(a);var l=t(5893),s=t(7294),r=t(5675),n=t.n(r),o=t(1163);t(2025);var c=t(7066);a.default=()=>{let e=(0,o.useRouter)(),[a,t]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),[g,p]=(0,s.useState)(""),[x,j]=(0,s.useState)(""),[b,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem("username"),a=localStorage.getItem("grantType"),t=localStorage.getItem("accessToken"),l={};null!==a&&null!==t&&(l={Authorization:"".concat(a).concat(t)}),console.log(e),c.Z.post("http://localhost:9000/member/getMemberInfo",e,{headers:l}).then(e=>{console.log(e.data);let a=e.data.member_name,t=e.data.member_email,l=e.data.member_address,s=e.data.member_addressDetail,r=e.data.member_pwd;a&&i(a),t&&u(t),l&&p(l),s&&j(s),r&&m(r)}).catch(e=>console.log(e))},[]);let N=a=>{t(!1),e.push(a)};return(0,l.jsxs)("div",{className:"main-screen ".concat(a?"sidebar-open":""),onClick:a?e=>{let a=document.querySelector(".sidebar");a&&!a.contains(e.target)&&t(!1)}:void 0,children:[(0,l.jsxs)("div",{className:"sidebar",children:[(0,l.jsx)("div",{className:"sidebar-link",onClick:()=>N("/Search"),children:"Search"}),(0,l.jsx)("div",{className:"sidebar-link",onClick:()=>N("/Login"),children:"Login"}),(0,l.jsx)("div",{className:"sidebar-link",onClick:()=>N("/My"),children:"My"}),(0,l.jsx)("div",{className:"sidebar-link",onClick:()=>N("/Chat"),children:"ChatBot"})]}),(0,l.jsxs)("header",{className:"header",children:[(0,l.jsx)(n(),{src:"/images/image-23.png",alt:"search",width:40,height:40}),(0,l.jsx)("div",{className:"center-image-container",children:(0,l.jsx)(n(),{src:"/images/first.png",alt:"First Image",width:120,height:45})}),(0,l.jsx)(n(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50})]}),(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)("div",{className:"intro",children:(0,l.jsx)("h1",{children:"개인정보 수정 및 확인"})}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"username",children:"이름"}),(0,l.jsx)("input",{type:"text",id:"username",value:r,onChange:e=>i(e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"username",children:"비밀번호"}),(0,l.jsx)("input",{type:"password",id:"password",value:d,onChange:e=>m(e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"email",children:"이메일"}),(0,l.jsx)("input",{type:"email",id:"email",value:h,onChange:e=>u(e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"address",children:"주소"}),(0,l.jsx)("input",{type:"text",id:"address",value:g,onChange:e=>p(e.target.value)})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"detailAddress",children:"상세 주소"}),(0,l.jsx)("input",{type:"text",id:"detailAddress",value:x,onChange:e=>j(e.target.value)})]}),(0,l.jsx)("button",{onClick:a=>{a.preventDefault();let t=localStorage.getItem("username"),l=localStorage.getItem("grantType"),s=localStorage.getItem("accessToken"),n={};null!==l&&null!==s&&(n={Authorization:"".concat(l).concat(s)}),c.Z.post("http://localhost:9000/member/updateMember",{member_id:t,member_email:h,member_name:r,member_pwd:d,member_address:g,member_addressDetail:x},{headers:n}).then(e=>{console.log(e.data),alert("수정 완")}).catch(e=>console.log(e)),v(!0),setTimeout(()=>{v(!1),e.push("/First")},1e3)},children:"저장"}),(0,l.jsx)("button",{onClick:()=>{localStorage.clear(),e.push("/Login")},className:"logout-button",children:"로그아웃"}),(0,l.jsx)("button",{onClick:e=>{e.preventDefault();let a=localStorage.getItem("naverAccessToken"),t=localStorage.getItem("username"),l=localStorage.getItem("grantType"),s=localStorage.getItem("accessToken"),r={};null!==l&&null!==s&&(r={Authorization:"".concat(l).concat(s)}),c.Z.post("http://localhost:9000/member/deleteMember",null,{params:{member_id:t,naverAccessToken:a},headers:r}).then(e=>{console.log(e.data),alert("탈퇴 완"),localStorage.clear()}).catch(e=>console.log(e))},children:"회원탈퇴"})]}),b&&(0,l.jsx)("div",{className:"modal",children:(0,l.jsx)("div",{className:"modal-content",children:"정보가 저장되었습니다."})}),(0,l.jsxs)("footer",{className:"footer",children:[(0,l.jsx)("div",{className:"footer-icon",onClick:()=>{t(!a)},children:"="}),(0,l.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/First")},children:"\uD83C\uDFE0"}),(0,l.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/Mypage")},children:"\uD83D\uDC64"})]})]})}},2025:function(){}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=7595)}),_N_E=e.O()}]);