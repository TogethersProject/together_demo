(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{2115:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Find",function(){return t(2357)}])},2357:function(e,s,t){"use strict";t.r(s);var n=t(5893),c=t(7294),r=t(1163),i=t(5675),a=t.n(i);t(1272);var l=t(7066);s.default=()=>{let[e,s]=(0,c.useState)([]),[t,i]=(0,c.useState)(""),[o,d]=(0,c.useState)(!1),u=(0,c.useRef)(null),h=(0,r.useRouter)(),[m,x]=(0,c.useState)([]),[j,g]=(0,c.useState)(""),[p,f]=(0,c.useState)(""),[N,v]=(0,c.useState)(""),[k,C]=(0,c.useState)(0),[D,S]=(0,c.useState)(!0),b=(0,c.useRef)(null),_=(0,c.useRef)(null),[w,y]=(0,c.useState)(!1),[E,I]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"true"===localStorage.getItem("isLoggedIn")&&y(!0)},[]),(0,c.useEffect)(()=>{let e=localStorage.getItem("grantType"),s=localStorage.getItem("accessToken"),t=localStorage.getItem("username");e&&s&&t&&(g(e),f(s),v(t))},[]),(0,c.useEffect)(()=>{q(k)},[k]),(0,c.useEffect)(()=>(b.current&&b.current.disconnect(),b.current=new IntersectionObserver(e=>{e[0].isIntersecting&&D&&C(e=>e+1)}),_.current&&b.current.observe(_.current),()=>{b.current&&b.current.disconnect()}),[D]);let q=async e=>{try{let s=await l.Z.post("http://localhost:9000/mentor/getMentorList",null,{params:{page:e}});x(e=>[...e,...s.data.content]),S(s.data.content.length>0)}catch(e){console.log("에러발생"+e)}},L=e=>{l.Z.post("http://localhost:9000/mentor/deleteBoard",null,{headers:{Authorization:j+p},params:{seq:e,member_id:N}})},M=n=>{let c=[...e],r=c.findIndex(e=>e.seq===n);-1!==r&&(c[r].comments=[...c[r].comments||[],t],s(c),i(""),localStorage.setItem("mentors",JSON.stringify(c)))},F=e=>{h.push("/UDMentor?seq=".concat(e))},O=e=>{d(!1),h.push(e)};return(0,n.jsxs)("div",{className:"main-screen ".concat(o?"sidebar-open":""),onClick:o?e=>{u.current&&!u.current.contains(e.target)&&d(!1)}:void 0,children:[(0,n.jsxs)("div",{className:"sidebar",children:[(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>O("/Search"),children:(0,n.jsx)("span",{children:"\uD83D\uDD0D Search"})}),!w&&(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>O("/Login"),children:(0,n.jsx)("span",{children:"\uD83D\uDD12 Login"})}),w&&(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>O("/Mypage"),children:(0,n.jsx)("span",{children:"\uD83D\uDC64 My Page"})}),(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>O("/Chat"),children:(0,n.jsx)("span",{children:"\uD83E\uDD16 ChatBot"})})]}),(0,n.jsxs)("header",{className:"header",children:[(0,n.jsx)("div",{onClick:()=>{h.push("/Search")},style:{cursor:"pointer"},children:(0,n.jsx)(a(),{src:"/images/image-23.png",alt:"search",width:40,height:40})}),(0,n.jsx)("div",{className:"center-image-container",onClick:()=>{h.push("/First")},style:{cursor:"pointer"},children:(0,n.jsx)(a(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,n.jsxs)("div",{className:"alert-container",onClick:()=>{I(!E)},style:{cursor:"pointer",position:"relative"},children:[(0,n.jsx)(a(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50}),E&&(0,n.jsx)("div",{className:"alert-dropdown",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"알림 1"}),(0,n.jsx)("li",{children:"알림 2"}),(0,n.jsx)("li",{children:"알림 3"})]})})]})]}),(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{className:"title",children:"등록된 멘토 정보"}),m.map((e,s)=>(0,n.jsxs)("div",{className:"info",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"제목:"}),e.title]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"이름:"})," ",e.name]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"이메일:"})," ",e.email]}),(0,n.jsx)("p",{className:"mentor-content",id:"content-".concat(e.seq)}),(0,n.jsxs)("div",{className:"comments",children:[(0,n.jsx)("h3",{children:"댓글:"}),(0,n.jsx)("input",{type:"text",value:t,onChange:e=>i(e.target.value),placeholder:"댓글을 입력하세요"}),(0,n.jsx)("button",{onClick:()=>M(e.seq),children:"댓글 달기"})]}),e.id===N&&(0,n.jsx)("button",{onClick:()=>L(e.seq),children:"글 삭제"}),e.id===N&&(0,n.jsx)("button",{onClick:()=>F(e.seq),children:"글 수정"})]},s)),(0,n.jsx)("div",{ref:_,className:"load-more",children:D&&(0,n.jsx)("p",{children:"Loading more..."})})]}),(0,n.jsxs)("footer",{className:"footer",children:[(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{d(!0)},children:"="}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{h.push("/First")},children:"\uD83C\uDFE0"}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{h.push("/Mypage")},children:"\uD83D\uDC64"})]})]})}},1272:function(){}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=2115)}),_N_E=e.O()}]);