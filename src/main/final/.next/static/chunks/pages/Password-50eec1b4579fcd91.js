(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{3732:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Password",function(){return a(325)}])},325:function(e,s,a){"use strict";a.r(s);var i=a(5893),t=a(7294),n=a(5675),l=a.n(n),c=a(1163);a(6851);var o=a(7066);s.default=()=>{let e=(0,c.useRouter)(),[s,a]=(0,t.useState)(!1),[n,r]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),[u,m]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[j,g]=(0,t.useState)(!1),[v,C]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),[f,k]=(0,t.useState)(""),w=s=>{a(!1),e.push(s)};return(0,i.jsxs)("div",{className:"main-screen ".concat(s?"sidebar-open":""),onClick:s?e=>{let s=document.querySelector(".sidebar");s&&!s.contains(e.target)&&a(!1)}:void 0,children:[(0,i.jsxs)("div",{className:"sidebar",children:[(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/Search"),children:"Search"}),(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/Login"),children:"Login"}),(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/My"),children:"My"}),(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/Chat"),children:"ChatBot"})]}),(0,i.jsxs)("header",{className:"header",children:[(0,i.jsx)(l(),{src:"/images/image-23.png",alt:"search",width:40,height:40}),(0,i.jsx)("div",{className:"center-image-container",onClick:()=>{e.push("/First")},style:{cursor:"pointer"},children:(0,i.jsx)(l(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,i.jsx)(l(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50})]}),(0,i.jsx)("div",{className:"content",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"비밀번호 변경"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"이메일:"}),(0,i.jsx)("input",{type:"email",value:n,onChange:N?()=>{}:e=>r(e.target.value),required:!0,disabled:N}),(0,i.jsx)("button",{onClick:()=>{encodeURIComponent(n),console.log(n),o.Z.post("http://localhost:9000/member/findPassword",n).then(e=>console.log(e.data)).catch(e=>console.log(e)),C(!0),"example@email.com"===n?h(!0):h(!1)},children:"인증하기"}),v&&(0,i.jsxs)("div",{className:"verification-group",children:[(0,i.jsx)("label",{htmlFor:"verification-code",className:"label",children:"인증번호를 입력하세요"}),(0,i.jsx)("input",{id:"verification-code",type:"text",className:"input",value:f,onChange:e=>{k(e.target.value)}}),(0,i.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("verification-code").value;console.log("보낸다"+n+e),o.Z.post("http://localhost:9000/member/findPasswordCheck",{encodedEmail:n,encodedCode:e}).then(e=>{console.log(e.data),e.data&&b(!0),e.data&&h(!0),e.data||b(!1)}).catch(e=>console.log(e))},children:"확인"}),!0===N&&(0,i.jsx)("span",{children:"인증되었습니다. "}),!1===N&&(0,i.jsx)("span",{children:"인증되지 않았습니다. "})]})]}),d&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"새 비밀번호:"}),(0,i.jsx)("input",{type:"password",value:u,onChange:e=>m(e.target.value),required:!0}),(0,i.jsx)("label",{children:"비밀번호 확인:"}),(0,i.jsx)("input",{type:"password",value:p,onChange:e=>x(e.target.value),required:!0}),(0,i.jsx)("button",{onClick:()=>{o.Z.post("http://localhost:9000/member/changePassword",{password:u,email:n}).then(e=>{g(!0),setTimeout(()=>{g(!1)},2e3)}).catch(e=>console.log(e))},disabled:u!==p,children:"변경하기"})]}),j&&(0,i.jsx)("div",{className:"modal",children:(0,i.jsx)("p",{children:"비밀번호 변경이 완료되었습니다."})})]})}),(0,i.jsxs)("footer",{className:"footer",children:[(0,i.jsx)("div",{className:"footer-icon",onClick:()=>{a(!s)},children:"="}),(0,i.jsx)("div",{className:"footer-icon",onClick:()=>e.push("/First"),children:"\uD83C\uDFE0"}),(0,i.jsx)("div",{className:"footer-icon",onClick:()=>e.push("/Mypage"),children:"\uD83D\uDC64"})]})]})}},6851:function(){}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=3732)}),_N_E=e.O()}]);