(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{2785:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/FindVolunteer",function(){return t(4381)}])},4381:function(e,s,t){"use strict";t.r(s);var i=t(5893),n=t(7294),a=t(5675),l=t.n(a),c=t(6066),r=t(1163);t(1032);var o=t(7066);s.default=()=>{let e=(0,r.useRouter)(),[s,t]=(0,n.useState)(!1);(0,n.useRef)(null);let[a,d]=(0,n.useState)([]),[h,u]=(0,n.useState)(0),[m,g]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!0),[j,v]=(0,n.useState)(""),[f,N]=(0,n.useState)(""),[w,y]=(0,n.useState)(""),[b,k]=(0,n.useState)(!1),[C,D]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=localStorage.getItem("grantType"),s=localStorage.getItem("accessToken"),t=localStorage.getItem("username");e&&s&&t&&(v(e),N(s),y(t))},[]),(0,n.useEffect)(()=>{(async e=>{if(!m&&p){g(!0);try{let s=(await o.Z.post("http://localhost:9000/volunteer/getWriteList",null,{params:{page:e}})).data.content;d(e=>[...e,...s]),x(s.length>0)}catch(e){console.error("Error fetching data:",e)}g(!1)}})(h)},[h]),(0,n.useEffect)(()=>{console.log(h)},[h]),(0,n.useEffect)(()=>{let e=()=>{if(m||!p)return;let{scrollTop:e,scrollHeight:s,clientHeight:t}=document.documentElement;s-e<=t+50&&u(e=>e+1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[m,p]),(0,n.useEffect)(()=>{a.forEach(e=>{let s=document.getElementById("content-".concat(e.seq));if(s){let t=new DOMParser().parseFromString(e.content,"text/html");t.querySelectorAll("oembed").forEach(e=>{let s=e.getAttribute("url");if(s&&s.includes("youtube.com")){let t=new URL(s).searchParams.get("v"),i=document.createElement("iframe");i.src="https://www.youtube.com/embed/".concat(t),i.title="video",i.allowFullscreen=!0,i.width="300",i.height="180",e.replaceWith(i)}}),Array.from(t.getElementsByTagName("img")).forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)});let i=t.body.innerHTML;s.innerHTML=i.length>100?"".concat(i.slice(0,100),"..."):i}})},[a]);let E=s=>{e.push("/Detail?seq=".concat(s))},S=s=>{t(!1),e.push(s)},_=e=>{let s=document.querySelector(".sidebar");s&&!s.contains(e.target)&&t(!1)};return(0,i.jsxs)("div",{className:"main-screen ".concat(s?"sidebar-open":""),onClick:s?_:void 0,children:[s&&(0,i.jsx)("div",{className:"overlay show",onClick:_}),(0,i.jsxs)("div",{className:"sidebar",children:[(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>S("/Search"),children:(0,i.jsx)("span",{children:"\uD83D\uDD0D Search"})}),!b&&(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>S("/Login"),children:(0,i.jsx)("span",{children:"\uD83D\uDD12 Login"})}),b&&(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>S("/Mypage"),children:(0,i.jsx)("span",{children:"\uD83D\uDC64 My Page"})}),(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>S("/Chat"),children:(0,i.jsx)("span",{children:"\uD83E\uDD16 ChatBot"})})]}),(0,i.jsxs)("div",{className:"header",children:[(0,i.jsx)("div",{onClick:()=>{e.push("/Search")},style:{cursor:"pointer"},children:(0,i.jsx)(l(),{src:"/images/image-23.png",alt:"search",width:40,height:40})}),(0,i.jsx)("div",{className:"center-image-container",onClick:()=>{e.push("/First")},style:{cursor:"pointer"},children:(0,i.jsx)(l(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,i.jsxs)("div",{className:"alert-container",onClick:()=>{D(!C)},style:{cursor:"pointer",position:"relative"},children:[(0,i.jsx)(l(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50}),C&&(0,i.jsx)("div",{className:"alert-dropdown",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"알림 1"}),(0,i.jsx)("li",{children:"알림 2"}),(0,i.jsx)("li",{children:"알림 3"})]})})]})]}),(0,i.jsx)("div",{className:"banner-container",children:(0,i.jsxs)(c.Z,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1500,children:[(0,i.jsx)("div",{className:"banner-slide",children:(0,i.jsx)(l(),{src:"/images/volunteer1.png",alt:"배너 이미지 1",layout:"responsive",width:360,height:200,className:"banner-image"})}),(0,i.jsx)("div",{className:"banner-slide",children:(0,i.jsx)(l(),{src:"/images/volunteer2.png",alt:"배너 이미지 2",layout:"responsive",width:360,height:200,className:"banner-image"})}),(0,i.jsx)("div",{className:"banner-slide",children:(0,i.jsx)(l(),{src:"/images/volunteer3.png",alt:"배너 이미지 3",layout:"responsive",width:360,height:200,className:"banner-image"})})]})}),(0,i.jsxs)("main",{className:"activities-container",children:[(0,i.jsx)("button",{className:"register-button",onClick:()=>e.push("/register"),children:"봉사 등록"}),a.map((e,s)=>(0,i.jsxs)("div",{className:"activity",onClick:()=>E(e.seq),children:[e.thumnail&&(0,i.jsx)(l(),{src:e.thumnail,alt:e.title,width:100,height:100}),(0,i.jsxs)("div",{className:"activity-content",children:[(0,i.jsx)("h3",{children:e.title}),(0,i.jsx)("p",{id:"content-".concat(e.seq)})]})]},e.seq)),m&&(0,i.jsx)("div",{children:"Loading..."})]}),(0,i.jsxs)("footer",{className:"footer",children:[(0,i.jsx)("div",{className:"footer-icon",onClick:()=>{t(!s)},children:"="}),(0,i.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/First")},children:"\uD83C\uDFE0"}),(0,i.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/Mypage")},children:"\uD83D\uDC64"})]})]})}},1032:function(){}},function(e){e.O(0,[873,702,66,888,774,179],function(){return e(e.s=2785)}),_N_E=e.O()}]);