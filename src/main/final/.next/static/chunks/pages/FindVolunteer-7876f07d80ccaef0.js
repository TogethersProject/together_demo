(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{2785:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/FindVolunteer",function(){return s(4381)}])},4381:function(e,t,s){"use strict";s.r(t);var n=s(5893),i=s(7294),a=s(5675),r=s.n(a),c=s(6066),l=s(1163);s(1032);var o=s(7066);t.default=()=>{let e=(0,l.useRouter)(),[t,s]=(0,i.useState)(!1),[a,d]=(0,i.useState)([]),[u,h]=(0,i.useState)(0),[m,g]=(0,i.useState)(!1),[p,x]=(0,i.useState)(!0),[v,j]=(0,i.useState)(""),[f,N]=(0,i.useState)(""),[b,y]=(0,i.useState)(""),[k,w]=(0,i.useState)(!1),[S,E]=(0,i.useState)(!1),C=(0,i.useRef)(null),D=(0,i.useRef)(null),[L,_]=(0,i.useState)(0),T=(0,i.useRef)(null);(0,i.useEffect)(()=>(S?document.addEventListener("click",F):document.removeEventListener("click",F),()=>{document.removeEventListener("click",F)}),[S]);let F=e=>{T.current&&!T.current.contains(e.target)&&E(!1)};(0,i.useEffect)(()=>{"true"===localStorage.getItem("isLoggedIn")&&w(!0)},[]),(0,i.useEffect)(()=>{let e=localStorage.getItem("grantType"),t=localStorage.getItem("accessToken"),s=localStorage.getItem("username");e&&t&&s&&(j(e),N(t),y(s))},[]),(0,i.useEffect)(()=>{console.log("Fetching page: ".concat(L)),I(L)},[L]),(0,i.useEffect)(()=>(C.current&&C.current.disconnect(),C.current=new IntersectionObserver(e=>{e[0].isIntersecting&&p&&(console.log("Load more element is intersecting, incrementing page..."),_(e=>e+1))}),D.current&&C.current.observe(D.current),()=>{C.current&&C.current.disconnect()}),[p]);let I=async e=>{try{let t=await o.Z.post("http://localhost:9000/volunteer/getWriteList",null,{params:{page:e}});console.log("Fetched data:",t.data.content),d(e=>[...e,...t.data.content]),x(t.data.content.length>0)}catch(e){console.log("Error occurred:",e)}};(0,i.useEffect)(()=>{a.forEach(e=>{let t=document.getElementById("content-".concat(e.seq));if(t){let s=new DOMParser().parseFromString(e.content,"text/html");s.querySelectorAll("oembed").forEach(e=>{let t=e.getAttribute("url");if(t&&t.includes("youtube.com")){let s=new URL(t).searchParams.get("v"),n=document.createElement("iframe");n.src="https://www.youtube.com/embed/".concat(s),n.title="video",n.allowFullscreen=!0,n.width="300",n.height="180",e.replaceWith(n)}}),Array.from(s.getElementsByTagName("img")).forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)});let n=s.body.innerHTML;t.innerHTML=n.length>100?"".concat(n.slice(0,100),"..."):n}})},[a]);let q=t=>{e.push("/Detail?seq=".concat(t))},M=t=>{s(!1),e.push(t)};return(0,n.jsxs)("div",{className:"main-screen ".concat(t?"sidebar-open":""),onClick:t?e=>{let t=document.querySelector(".sidebar");t&&!t.contains(e.target)&&s(!1)}:void 0,children:[(0,n.jsxs)("div",{className:"sidebar",children:[(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>M("/Search"),children:(0,n.jsx)("span",{children:"\uD83D\uDD0D Search"})}),!k&&(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>M("/Login"),children:(0,n.jsx)("span",{children:"\uD83D\uDD12 Login"})}),k&&(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>M("/Mypage"),children:(0,n.jsx)("span",{children:"\uD83D\uDC64 My Page"})}),(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>M("/Chat"),children:(0,n.jsx)("span",{children:"\uD83E\uDD16 ChatBot"})})]}),(0,n.jsxs)("div",{className:"header",children:[(0,n.jsx)("div",{onClick:()=>{e.push("/Search")},style:{cursor:"pointer"},children:(0,n.jsx)(r(),{src:"/images/image-23.png",alt:"search",width:40,height:40})}),(0,n.jsx)("div",{className:"center-image-container",onClick:()=>{e.push("/First")},style:{cursor:"pointer"},children:(0,n.jsx)(r(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,n.jsxs)("div",{className:"alert-container",onClick:()=>{E(!S)},style:{cursor:"pointer",position:"relative"},ref:T,children:[(0,n.jsx)(r(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50}),S&&(0,n.jsx)("div",{className:"alert-dropdown",style:{position:"absolute",top:"60px",right:"0",backgroundColor:"white",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"4px"},children:(0,n.jsxs)("ul",{style:{listStyle:"none",padding:"10px",margin:"0"},children:[(0,n.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 1"}),(0,n.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 2"}),(0,n.jsx)("li",{style:{padding:"8px 0"},children:"알림 3"})]})})]})]}),(0,n.jsx)("div",{className:"banner-container",children:(0,n.jsxs)(c.Z,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1500,children:[(0,n.jsx)("div",{className:"banner-slide",children:(0,n.jsx)(r(),{src:"/images/volunteer1.png",alt:"배너 이미지 1",layout:"responsive",width:360,height:200,className:"banner-image"})}),(0,n.jsx)("div",{className:"banner-slide",children:(0,n.jsx)(r(),{src:"/images/volunteer2.png",alt:"배너 이미지 2",layout:"responsive",width:360,height:200,className:"banner-image"})}),(0,n.jsx)("div",{className:"banner-slide",children:(0,n.jsx)(r(),{src:"/images/volunteer3.png",alt:"배너 이미지 3",layout:"responsive",width:360,height:200,className:"banner-image"})})]})}),(0,n.jsxs)("main",{className:"activities-container",children:[(0,n.jsx)("button",{className:"register-button",onClick:()=>e.push("/register"),children:"봉사 등록"}),a.map((e,t)=>{let s=e.thumnail;return console.log(s),(0,n.jsxs)("div",{className:"activity",onClick:()=>q(e.seq),children:[e.thumnail&&(0,n.jsx)(r(),{src:s,alt:e.title,width:100,height:100}),(0,n.jsxs)("div",{className:"activity-content",children:[(0,n.jsx)("h3",{children:e.title}),(0,n.jsx)("p",{id:"content-".concat(e.seq)})]})]},e.seq)}),(0,n.jsx)("div",{ref:D,className:"load-more",children:p&&(0,n.jsx)("p",{children:"Loading more..."})})]}),(0,n.jsxs)("footer",{className:"footer",children:[(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{s(!t)},children:"="}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/First")},children:"\uD83C\uDFE0"}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/Mypage")},children:"\uD83D\uDC64"})]})]})}},1032:function(){}},function(e){e.O(0,[873,702,66,888,774,179],function(){return e(e.s=2785)}),_N_E=e.O()}]);