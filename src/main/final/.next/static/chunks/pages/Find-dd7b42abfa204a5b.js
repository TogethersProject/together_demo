(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{2115:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Find",function(){return s(2357)}])},2357:function(e,t,s){"use strict";s.r(t);var n=s(5893),a=s(7294),c=s(1163),l=s(5675),i=s.n(l);s(1272);var r=s(7066);t.default=()=>{let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[o,d]=(0,a.useState)(!1),h=(0,a.useRef)(null),u=(0,c.useRouter)(),[m,g]=(0,a.useState)([]),[p,x]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[v,w]=(0,a.useState)(1);(0,a.useEffect)(()=>{C();let e=localStorage.getItem("grantType"),t=localStorage.getItem("accessToken"),s=localStorage.getItem("username");e&&t&&s&&(x(e),j(t),k(s))},[]),(0,a.useEffect)(()=>{m.forEach(e=>{let t=document.getElementById("content-".concat(e.seq));if(t){let s=new DOMParser().parseFromString(e.content,"text/html");s.querySelectorAll("oembed").forEach(e=>{let t=e.getAttribute("url");if(t&&t.includes("youtube.com")){let s=new URL(t).searchParams.get("v"),n=document.createElement("iframe");n.src="https://www.youtube.com/embed/".concat(s),n.title="video",n.allowFullscreen=!0,n.width="300",n.height="180",e.replaceWith(n)}});let n=s.getElementsByTagName("img");for(let e=0;e<n.length;e++){let t=n[e],s=t.width,a=t.height;if(s>300){let e=300/s;t.width=Math.round(s*e),t.height=Math.round(a*e)}}t.innerHTML=s.body.innerHTML}})},[m]);let C=async()=>{try{let e=await r.Z.post("http://localhost:9000/mentor/getMentorList",null,{params:{page:0}});g(e.data.content),console.log(e.data.content)}catch(e){console.log("에러발생"+e)}},b=e=>{r.Z.post("http://localhost:9000/mentor/deleteBoard",null,{headers:{Authorization:p+f},params:{seq:e,member_id:N}}).then(e=>{console.log(e),"글을 삭제하였습니다."===e.data?(alert("삭제 완료!"),C()):alert("삭제 실패"+e.data)}).catch(e=>{console.log(e),alert("에러!!!")})},S=n=>{let a=[...e],c=a.findIndex(e=>e.seq===n);-1!==c&&(a[c].comments=[...a[c].comments||[],s],t(a),l(""),localStorage.setItem("mentors",JSON.stringify(a)))},y=e=>{u.push("/UDMentor?seq=".concat(e))},E=e=>{d(!1),u.push(e)};return(0,n.jsxs)("div",{className:"main-screen ".concat(o?"sidebar-open":""),onClick:o?e=>{h.current&&!h.current.contains(e.target)&&d(!1)}:void 0,children:[(0,n.jsxs)("div",{className:"sidebar ".concat(o?"open":"closed"),ref:h,children:[(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>E("/Search"),children:"Search"}),(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>E("/Login"),children:"Login"}),(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>E("/My"),children:"My"}),(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>E("/Chat"),children:"ChatBot"})]}),(0,n.jsxs)("div",{className:"header",children:[(0,n.jsx)(i(),{src:"/images/image-23.png",alt:"search",width:40,height:40}),(0,n.jsx)("div",{className:"center-image-container",onClick:()=>{u.push("/First")},style:{cursor:"pointer"},children:(0,n.jsx)(i(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,n.jsx)(i(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50})]}),(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("h1",{className:"title",children:"등록된 멘토 정보"}),m.map((e,t)=>(0,n.jsxs)("div",{className:"info",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"제목:"}),e.title]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"이름:"})," ",e.name]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"이메일:"})," ",e.email]}),(0,n.jsx)("p",{className:"mentor-content",id:"content-".concat(e.seq)}),(0,n.jsxs)("div",{className:"comments",children:[(0,n.jsx)("h3",{children:"댓글:"}),(0,n.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"댓글을 입력하세요"}),(0,n.jsx)("button",{onClick:()=>S(e.seq),children:"댓글 달기"})]}),e.id===N&&(0,n.jsx)("button",{onClick:()=>b(e.seq),children:"글 삭제"}),e.id===N&&(0,n.jsx)("button",{onClick:()=>y(e.seq),children:"글 수정"})]},t))]}),(0,n.jsxs)("footer",{className:"footer",children:[(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{d(!0)},children:"="}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{u.push("/First")},children:"\uD83C\uDFE0"}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{u.push("/Mypage")},children:"\uD83D\uDC64"})]})]})}},1272:function(){}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=2115)}),_N_E=e.O()}]);