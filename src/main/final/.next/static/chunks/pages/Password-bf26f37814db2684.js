(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{3732:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Password",function(){return t(325)}])},325:function(e,s,t){"use strict";t.r(s);var i=t(5893),a=t(7294),n=t(5675),l=t.n(n),c=t(1163);t(6851);var o=t(7066);s.default=()=>{let e=(0,c.useRouter)(),[s,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(""),[d,h]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[g,j]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[N,f]=(0,a.useState)(""),w=s=>{t(!1),e.push(s)},[y,S]=(0,a.useState)(!1),E=(0,a.useRef)(null);(0,a.useEffect)(()=>(y?document.addEventListener("click",_):document.removeEventListener("click",_),()=>{document.removeEventListener("click",_)}),[y]);let _=e=>{E.current&&!E.current.contains(e.target)&&S(!1)};return(0,i.jsxs)("div",{className:"main-screen ".concat(s?"sidebar-open":""),onClick:s?e=>{let s=document.querySelector(".sidebar");s&&!s.contains(e.target)&&t(!1)}:void 0,children:[(0,i.jsxs)("div",{className:"sidebar",children:[(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/Search"),children:"Search"}),(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/Login"),children:"Login"}),(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/My"),children:"My"}),(0,i.jsx)("div",{className:"sidebar-link",onClick:()=>w("/Chat"),children:"ChatBot"})]}),(0,i.jsxs)("header",{className:"header",children:[(0,i.jsx)(l(),{src:"/images/image-23.png",alt:"search",width:40,height:40}),(0,i.jsx)("div",{className:"center-image-container",onClick:()=>{e.push("/First")},style:{cursor:"pointer"},children:(0,i.jsx)(l(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,i.jsxs)("div",{className:"alert-container",onClick:()=>{S(!y)},style:{cursor:"pointer",position:"relative"},ref:E,children:[(0,i.jsx)(l(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50}),y&&(0,i.jsx)("div",{className:"alert-dropdown",style:{position:"absolute",top:"60px",right:"0",backgroundColor:"white",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"4px"},children:(0,i.jsxs)("ul",{style:{listStyle:"none",padding:"10px",margin:"0"},children:[(0,i.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 1"}),(0,i.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 2"}),(0,i.jsx)("li",{style:{padding:"8px 0"},children:"알림 3"})]})})]})]}),(0,i.jsx)("div",{className:"content",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"비밀번호 변경"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"이메일:"}),(0,i.jsx)("input",{type:"email",value:n,onChange:k?()=>{}:e=>r(e.target.value),required:!0,disabled:k}),(0,i.jsx)("button",{onClick:()=>{encodeURIComponent(n),console.log(n),o.Z.post("http://localhost:9000/member/findPassword",n).then(e=>console.log(e.data)).catch(e=>console.log(e)),b(!0),"example@email.com"===n?h(!0):h(!1)},children:"인증하기"}),v&&(0,i.jsxs)("div",{className:"verification-group",children:[(0,i.jsx)("label",{htmlFor:"verification-code",className:"label",children:"인증번호를 입력하세요"}),(0,i.jsx)("input",{id:"verification-code",type:"text",className:"input",value:N,onChange:e=>{f(e.target.value)}}),(0,i.jsx)("button",{type:"button",onClick:()=>{let e=document.getElementById("verification-code").value;console.log("보낸다"+n+e),o.Z.post("http://localhost:9000/member/findPasswordCheck",{encodedEmail:n,encodedCode:e}).then(e=>{console.log(e.data),e.data&&C(!0),e.data&&h(!0),e.data||C(!1)}).catch(e=>console.log(e))},children:"확인"}),!0===k&&(0,i.jsx)("span",{children:"인증되었습니다. "}),!1===k&&(0,i.jsx)("span",{children:"인증되지 않았습니다. "})]})]}),d&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:"새 비밀번호:"}),(0,i.jsx)("input",{type:"password",value:u,onChange:e=>p(e.target.value),required:!0}),(0,i.jsx)("label",{children:"비밀번호 확인:"}),(0,i.jsx)("input",{type:"password",value:x,onChange:e=>m(e.target.value),required:!0}),(0,i.jsx)("button",{onClick:()=>{o.Z.post("http://localhost:9000/member/changePassword",{password:u,email:n}).then(e=>{j(!0),setTimeout(()=>{j(!1)},2e3)}).catch(e=>console.log(e))},disabled:u!==x,children:"변경하기"})]}),g&&(0,i.jsx)("div",{className:"modal",children:(0,i.jsx)("p",{children:"비밀번호 변경이 완료되었습니다."})})]})}),(0,i.jsxs)("footer",{className:"footer",children:[(0,i.jsx)("div",{className:"footer-icon",onClick:()=>{t(!s)},children:"="}),(0,i.jsx)("div",{className:"footer-icon",onClick:()=>e.push("/First"),children:"\uD83C\uDFE0"}),(0,i.jsx)("div",{className:"footer-icon",onClick:()=>e.push("/Mypage"),children:"\uD83D\uDC64"})]})]})}},6851:function(){}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=3732)}),_N_E=e.O()}]);