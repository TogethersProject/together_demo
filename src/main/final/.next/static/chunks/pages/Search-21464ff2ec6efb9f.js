(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{8117:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Search",function(){return t(9458)}])},9458:function(e,s,t){"use strict";t.r(s);var n=t(5893),i=t(7294),a=t(5675),l=t.n(a),r=t(1163);t(3780);var c=t(7066);s.default=()=>{let e=(0,r.useRouter)(),[s,t]=(0,i.useState)(!1),[a,o]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1),[m,x]=(0,i.useState)("author"),[g,v]=(0,i.useState)([]),j=(0,i.useRef)(null),N=(0,i.useRef)(null);(0,i.useEffect)(()=>(u?document.addEventListener("click",f):document.removeEventListener("click",f),()=>{document.removeEventListener("click",f)}),[u]);let f=e=>{N.current&&!N.current.contains(e.target)&&p(!1)};(0,i.useEffect)(()=>{"true"===localStorage.getItem("isLoggedIn")&&h(!0)},[]);let k=s=>{e.push(s)},C=s=>{"mentor"===s.table?e.push("/SearchMentor?seq="+s.seq):e.push("/Detail?seq="+s.seq)};return(0,n.jsxs)("div",{className:"main-screen ".concat(s?"sidebar-open":""),onClick:s?e=>{let s=document.querySelector(".sidebar");s&&!s.contains(e.target)&&t(!1)}:void 0,children:[(0,n.jsxs)("div",{className:"sidebar",ref:j,children:[(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>k("/Search"),children:"\uD83D\uDD0D Search"}),d?(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>k("/Mypage"),children:"\uD83D\uDC64 My Page"}):(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>k("/Login"),children:"\uD83D\uDD12 Login"}),(0,n.jsx)("div",{className:"sidebar-link",onClick:()=>k("/Chat"),children:"\uD83E\uDD16 ChatBot"})]}),(0,n.jsxs)("header",{className:"header",children:[(0,n.jsx)("div",{onClick:()=>k("/Search"),style:{cursor:"pointer"},children:(0,n.jsx)(l(),{src:"/images/image-23.png",alt:"search",width:40,height:40})}),(0,n.jsx)("div",{className:"center-image-container",onClick:()=>k("/First"),style:{cursor:"pointer"},children:(0,n.jsx)(l(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,n.jsxs)("div",{className:"alert-container",onClick:()=>{p(!u)},style:{cursor:"pointer",position:"relative"},ref:N,children:[(0,n.jsx)(l(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50}),u&&(0,n.jsx)("div",{className:"alert-dropdown",style:{position:"absolute",top:"60px",right:"0",backgroundColor:"white",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"4px"},children:(0,n.jsxs)("ul",{style:{listStyle:"none",padding:"10px",margin:"0"},children:[(0,n.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 1"}),(0,n.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 2"}),(0,n.jsx)("li",{style:{padding:"8px 0"},children:"알림 3"})]})})]})]}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsxs)("form",{className:"search-form",onSubmit:e=>{e.preventDefault(),""!==a.trim()&&c.Z.post("http://localhost:9000/search/query",{searchOption:m,searchQuery:a}).then(e=>{console.log(e.data),v(e.data)}).catch(e=>console.log(e))},children:[(0,n.jsx)("div",{className:"search-options",children:(0,n.jsxs)("select",{value:m,onChange:e=>{console.log(e.target.value),x(e.target.value)},children:[(0,n.jsx)("option",{selected:!0,value:"author",children:"작성자"}),(0,n.jsx)("option",{value:"content",children:"내용"}),(0,n.jsx)("option",{value:"title",children:"제목"})]})}),(0,n.jsx)("input",{type:"text",placeholder:"검색...",value:a,onChange:e=>{o(e.target.value)}}),(0,n.jsx)("button",{type:"submit",children:"Search"})]}),g.map((e,s)=>{let t=e.content;return e.content.length>100&&(t=e.content.slice(0,100)+"..."),(0,n.jsxs)("div",{className:"searchContainer",onClick:()=>C(e),children:[(0,n.jsxs)("h4",{className:"search_title",children:["제목: ",e.title]}),(0,n.jsxs)("div",{className:"search_content",children:["내용: ",t]})]},s)})]}),(0,n.jsxs)("footer",{className:"footer",children:[(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{t(!s)},children:"="}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/First")},children:"\uD83C\uDFE0"}),(0,n.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/Mypage")},children:"\uD83D\uDC64"})]})]})}},3780:function(){}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=8117)}),_N_E=e.O()}]);