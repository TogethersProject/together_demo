(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{2115:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Find",function(){return n(2357)}])},2357:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(7294),c=n(1163),i=n(5675),l=n.n(i);n(1272);var a=n(7066);t.default=()=>{let[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),u=(0,r.useRef)(null),h=(0,c.useRouter)(),[m,g]=(0,r.useState)([]),[p,x]=(0,r.useState)(""),[f,j]=(0,r.useState)(""),[v,b]=(0,r.useState)(""),[N,k]=(0,r.useState)(0),[w,S]=(0,r.useState)(!0),y=(0,r.useRef)(null),D=(0,r.useRef)(null),[E,C]=(0,r.useState)(!1),[_,L]=(0,r.useState)(!1),M=(0,r.useRef)(null);(0,r.useEffect)(()=>(_?document.addEventListener("click",q):document.removeEventListener("click",q),()=>{document.removeEventListener("click",q)}),[_]);let q=e=>{M.current&&!M.current.contains(e.target)&&L(!1)};(0,r.useEffect)(()=>{"true"===localStorage.getItem("isLoggedIn")&&C(!0)},[]),(0,r.useEffect)(()=>{let e=localStorage.getItem("grantType"),t=localStorage.getItem("accessToken"),n=localStorage.getItem("username");e&&t&&n&&(x(e),j(t),b(n))},[]),(0,r.useEffect)(()=>{console.log("Fetching page: ".concat(N)),F(N)},[N]),(0,r.useEffect)(()=>(y.current&&y.current.disconnect(),y.current=new IntersectionObserver(e=>{e[0].isIntersecting&&w&&(console.log("Load more element is intersecting, incrementing page..."),k(e=>e+1))}),D.current&&y.current.observe(D.current),()=>{y.current&&y.current.disconnect()}),[w]);let F=async e=>{try{let t=await a.Z.post("http://localhost:9000/mentor/getMentorList",null,{params:{page:e}});console.log("Fetched data:",t.data.content),g(e=>[...e,...t.data.content]),S(t.data.content.length>0)}catch(e){console.log("Error occurred:",e)}};(0,r.useEffect)(()=>{m.forEach(e=>{let t=document.getElementById("content-".concat(e.seq));if(t){let n=new DOMParser().parseFromString(e.content,"text/html");n.querySelectorAll("oembed").forEach(e=>{let t=e.getAttribute("url");if(t&&t.includes("youtube.com")){let n=new URL(t).searchParams.get("v"),s=document.createElement("iframe");s.src="https://www.youtube.com/embed/".concat(n),s.title="video",s.allowFullscreen=!0,s.width="300",s.height="180",e.replaceWith(s)}});let s=n.getElementsByTagName("img");for(let e=0;e<s.length;e++){let t=s[e],n=t.width,r=t.height;if(n>300){let e=300/n;t.width=Math.round(n*e),t.height=Math.round(r*e)}}t.innerHTML=n.body.innerHTML}})},[m]);let I=e=>{a.Z.post("http://localhost:9000/mentor/deleteBoard",null,{headers:{Authorization:p+f},params:{seq:e,member_id:v}})},R=e=>{h.push("/UDMentor?seq=".concat(e))},T=e=>{d(!1),h.push(e)};return(0,s.jsxs)("div",{className:"main-screen ".concat(o?"sidebar-open":""),onClick:o?e=>{let t=document.querySelector(".sidebar");t&&!t.contains(e.target)&&d(!1)}:void 0,children:[(0,s.jsxs)("div",{className:"sidebar ".concat(o?"open":"closed"),ref:u,children:[(0,s.jsx)("div",{className:"sidebar-link",onClick:()=>T("/Search"),children:(0,s.jsx)("span",{children:"\uD83D\uDD0D Search"})}),!E&&(0,s.jsx)("div",{className:"sidebar-link",onClick:()=>T("/Login"),children:(0,s.jsx)("span",{children:"\uD83D\uDD12 Login"})}),E&&(0,s.jsx)("div",{className:"sidebar-link",onClick:()=>T("/Mypage"),children:(0,s.jsx)("span",{children:"\uD83D\uDC64 My Page"})}),(0,s.jsx)("div",{className:"sidebar-link",onClick:()=>T("/Chat"),children:(0,s.jsx)("span",{children:"\uD83E\uDD16 ChatBot"})})]}),(0,s.jsxs)("header",{className:"header",children:[(0,s.jsx)("div",{onClick:()=>{h.push("/Search")},style:{cursor:"pointer"},children:(0,s.jsx)(l(),{src:"/images/image-23.png",alt:"search",width:40,height:40})}),(0,s.jsx)("div",{className:"center-image-container",onClick:()=>{h.push("/First")},style:{cursor:"pointer"},children:(0,s.jsx)(l(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,s.jsxs)("div",{className:"alert-container",onClick:()=>{L(!_)},style:{cursor:"pointer",position:"relative"},ref:M,children:[(0,s.jsx)(l(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50}),_&&(0,s.jsx)("div",{className:"alert-dropdown",style:{position:"absolute",top:"60px",right:"0",backgroundColor:"white",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",borderRadius:"4px"},children:(0,s.jsxs)("ul",{style:{listStyle:"none",padding:"10px",margin:"0"},children:[(0,s.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 1"}),(0,s.jsx)("li",{style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:"알림 2"}),(0,s.jsx)("li",{style:{padding:"8px 0"},children:"알림 3"})]})})]})]}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{className:"title",children:"등록된 멘토 정보"}),m.map((e,t)=>(0,s.jsxs)("div",{className:"info",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"제목:"}),e.title]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"이름:"})," ",e.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"이메일:"})," ",e.email]}),(0,s.jsx)("p",{className:"mentor-content",id:"content-".concat(e.seq)}),e.id===v&&(0,s.jsx)("button",{onClick:()=>I(e.seq),children:"글 삭제"}),e.id===v&&(0,s.jsx)("button",{onClick:()=>R(e.seq),children:"글 수정"})]},t)),(0,s.jsx)("div",{ref:D,className:"load-more",children:w&&(0,s.jsx)("p",{children:"Loading more..."})})]}),(0,s.jsxs)("footer",{className:"footer",children:[(0,s.jsx)("div",{className:"footer-icon",onClick:()=>{d(!o)},children:"="}),(0,s.jsx)("div",{className:"footer-icon",onClick:()=>{h.push("/First")},children:"\uD83C\uDFE0"}),(0,s.jsx)("div",{className:"footer-icon",onClick:()=>{h.push("/Mypage")},children:"\uD83D\uDC64"})]})]})}},1272:function(){}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=2115)}),_N_E=e.O()}]);