(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{7595:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/My",function(){return r(7963)}])},7963:function(e,t,r){"use strict";r.r(t);var o=r(5893),n=r(7294),a=r(5675),l=r.n(a),c=r(1163);r(2025);var s=r(7),i=r(7066);t.default=()=>{let e=(0,c.useRouter)(),[t,r]=(0,n.useState)(!1),[a,u]=(0,n.useState)(""),[p,d]=(0,n.useState)(""),[f,m]=(0,n.useState)(""),[h,b]=(0,n.useState)(""),[y,g]=(0,n.useState)(""),[v,j]=(0,n.useState)(""),[O,w]=(0,n.useState)(!1),[x,S]=(0,n.useState)(!1),P=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("username"),t=localStorage.getItem("grantType"),r=localStorage.getItem("accessToken"),o={};null!==t&&null!==r&&(o={Authorization:"".concat(t).concat(r)}),console.log(e),i.Z.post("http://localhost:9000/member/getMemberInfo",e,{headers:o}).then(e=>{console.log(e.data);let t=e.data.member_name,r=e.data.member_email,o=e.data.member_address,n=e.data.member_addressDetail,a=e.data.member_pwd,l=e.data.provider;t&&u(t),r&&m(r),o&&b(o),n&&g(n),a&&d(a),l&&j(l+"로 가입한 계정입니다.")}).catch(e=>console.log(e))},[]);let _=t=>{r(!1),e.push(t)};return(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"main-screen ".concat(t?"sidebar-open":""),onClick:t?e=>{let t=document.querySelector(".sidebar");t&&!t.contains(e.target)&&r(!1)}:void 0,children:[(0,o.jsxs)("div",{className:"sidebar ".concat(t?"open":"closed"),ref:P,children:[(0,o.jsx)("div",{className:"sidebar-link",onClick:()=>_("/Search"),children:"Search"}),(0,o.jsx)("div",{className:"sidebar-link",onClick:()=>_("/Login"),children:"Login"}),(0,o.jsx)("div",{className:"sidebar-link",onClick:()=>_("/My"),children:"My"}),(0,o.jsx)("div",{className:"sidebar-link",onClick:()=>_("/Chat"),children:"ChatBot"})]}),(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)(l(),{src:"/images/image-23.png",alt:"search",width:40,height:40}),(0,o.jsx)("div",{className:"center-image-container",onClick:()=>{e.push("/First")},style:{cursor:"pointer"},children:(0,o.jsx)(l(),{className:"center-image",src:"/images/first.png",alt:"투게더!",width:120,height:45})}),(0,o.jsx)(l(),{src:"/images/alert.png",alt:"alert",className:"alert-icon",width:50,height:50})]}),(0,o.jsxs)("div",{className:"content",children:[(0,o.jsx)("div",{className:"intro",children:(0,o.jsx)("h1",{children:"개인정보 수정 및 확인"})}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"username",children:"이름"}),(0,o.jsx)("input",{type:"text",id:"username",value:a,onChange:e=>{""===v&&u(e.target.value)}})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"username",children:"비밀번호"}),""==v&&(0,o.jsx)("input",{type:"password",id:"password",value:p,onChange:e=>d(e.target.value)})||(0,o.jsx)("input",{type:"text",value:v})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"email",children:"이메일"}),(0,o.jsx)("input",{type:"email",id:"email",value:f})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"address",className:"label",children:"주소"}),(0,o.jsx)("input",{id:"address",type:"text",className:"input",value:h,readOnly:!0}),(0,o.jsx)("button",{type:"button",className:"postcode-button",onClick:()=>{S(!x)},children:"주소 검색"}),x&&(0,o.jsx)("div",{className:"postcode-wrapper",children:(0,o.jsx)(s.ZP,{onComplete:e=>{b(e.address),S(!1)}})})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"detail-address",className:"label",children:"상세 주소"}),(0,o.jsx)("input",{id:"detail-address",type:"text",className:"input",value:y,onChange:e=>g(e.target.value)})]}),(0,o.jsx)("button",{onClick:t=>{t.preventDefault();let r=localStorage.getItem("username"),o=localStorage.getItem("grantType"),n=localStorage.getItem("accessToken"),l={};null!==o&&null!==n&&(l={Authorization:"".concat(o).concat(n)}),i.Z.post("http://localhost:9000/member/updateMember",{member_id:r,member_email:f,member_name:a,member_pwd:p,member_address:h,member_addressDetail:y},{headers:l}).then(e=>{w(!0)}).catch(e=>console.log(e)),w(!0),setTimeout(()=>{w(!1),e.push("/First")},1e3)},children:"저장"}),(0,o.jsx)("button",{onClick:()=>{localStorage.clear(),e.push("/Login")},className:"logout-button",children:"로그아웃"}),(0,o.jsx)("button",{onClick:e=>{e.preventDefault();let t=localStorage.getItem("naverAccessToken"),r=localStorage.getItem("username"),o=localStorage.getItem("grantType"),n=localStorage.getItem("accessToken"),a={};null!==o&&null!==n&&(a={Authorization:"".concat(o).concat(n)}),i.Z.post("http://localhost:9000/member/deleteMember",null,{params:{member_id:r,naverAccessToken:t},headers:a}).then(e=>{console.log(e.data),alert("탈퇴 완"),localStorage.clear()}).catch(e=>console.log(e))},children:"회원탈퇴"})]}),O&&(0,o.jsx)("div",{className:"modal",children:(0,o.jsx)("div",{className:"modal-content",children:"정보가 저장되었습니다."})}),(0,o.jsxs)("footer",{className:"footer",children:[(0,o.jsx)("div",{className:"footer-icon",onClick:()=>{r(!t)},children:"="}),(0,o.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/First")},children:"\uD83C\uDFE0"}),(0,o.jsx)("div",{className:"footer-icon",onClick:()=>{e.push("/Mypage")},children:"\uD83D\uDC64"})]})]})})}},2025:function(){},651:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(7294)),a=s(r(2171)),l=["scriptUrl","className","style","defaultQuery","autoClose","errorMessage","onComplete","onClose","onResize","onSearch"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!=l&&Object.prototype.hasOwnProperty.call(e,l)){var s=a?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(n,l,s):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function u(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?i(Object(t),!0).forEach(function(r){m(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=n.default.createElement("p",null,"현재 Daum 우편번호 서비스를 이용할 수 없습니다. 잠시 후 다시 시도해주세요."),b={width:"100%",height:400},y={scriptUrl:a.postcodeScriptUrl,errorMessage:h,autoClose:!0},g=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return m(d(e=s.call.apply(s,[this].concat(o))),"mounted",!1),m(d(e),"wrap",(0,n.createRef)()),m(d(e),"state",{hasError:!1}),m(d(e),"initiate",function(t){if(e.wrap.current){var r=e.props,o=(r.scriptUrl,r.className,r.style,r.defaultQuery),n=r.autoClose,a=(r.errorMessage,r.onComplete),c=r.onClose,s=r.onResize,i=r.onSearch;new t(u(u({},function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(r,l)),{},{oncomplete:function(t){a&&a(t),n&&e.wrap.current&&e.wrap.current.remove()},onsearch:i,onresize:s,onclose:c,width:"100%",height:"100%"})).embed(e.wrap.current,{q:o,autoClose:n})}}),m(d(e),"onError",function(t){console.error(t),e.setState({hasError:!0})}),e}!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e);var r,c,s=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=f(t);return e=r?Reflect.construct(n,arguments,f(this).constructor):n.apply(this,arguments),e&&("object"===o(e)||"function"==typeof e)?e:d(this)});return c=[{key:"componentDidMount",value:function(){var e=this.initiate,t=this.onError,r=this.props.scriptUrl;r&&(this.mounted||((0,a.default)(r).then(e).catch(t),this.mounted=!0))}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.errorMessage,a=this.state.hasError;return n.default.createElement("div",{ref:this.wrap,className:t,style:u(u({},b),r)},a&&o)}}],function(e,t){for(var r,o=0;o<t.length;o++)(r=t[o]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}(t.prototype,c),t}(n.Component);m(g,"defaultProps",y),t.default=g},7:function(e,t,r){"use strict";t.ZP=void 0;var o=n(r(651));function n(e){return e&&e.__esModule?e:{default:e}}n(r(339)),n(r(2171));var a=o.default;t.ZP=a},2171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.postcodeScriptUrl=void 0,t.postcodeScriptUrl="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js";var r,o=(r=null,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js";return r||(r=new Promise(function(t,r){var o=document.createElement("script");o.src=e,o.onload=function(){var e,o;return null!==(e=window)&&void 0!==e&&null!==(o=e.daum)&&void 0!==o&&o.Postcode?t(window.daum.Postcode):void r(Error("Script is loaded successfully, but cannot find Postcode module. Check your scriptURL property."))},o.onerror=function(e){return r(e)},o.id="daum_postcode_script",document.body.appendChild(o)}))});t.default=o},339:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(7294),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=c(void 0);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!=l&&Object.prototype.hasOwnProperty.call(e,l)){var s=a?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(n,l,s):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}(r(2171)),l=["defaultQuery","left","top","popupKey","popupTitle","autoClose","onComplete","onResize","onClose","onSearch","onError"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function i(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?s(Object(t),!0).forEach(function(r){var o;o=t[r],r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.postcodeScriptUrl;return(0,n.useEffect)(function(){(0,a.default)(e)},[e]),(0,n.useCallback)(function(t){var r=i({},t),o=r.defaultQuery,n=r.left,c=r.top,s=r.popupKey,u=r.popupTitle,p=r.autoClose,d=r.onComplete,f=r.onResize,m=r.onClose,h=r.onSearch,b=r.onError,y=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(r,l);return(0,a.default)(e).then(function(e){new e(i(i({},y),{},{oncomplete:d,onsearch:h,onresize:f,onclose:m})).open({q:o,left:n,top:c,popupTitle:u,popupKey:s,autoClose:p})}).catch(b)},[e])}}},function(e){e.O(0,[873,702,888,774,179],function(){return e(e.s=7595)}),_N_E=e.O()}]);